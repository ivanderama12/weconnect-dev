{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\De Rama\\\\Desktop\\\\weconnect\\\\src\\\\components\\\\navbar\\\\UserDropdown.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\nimport { Dropdown, Image } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../AuthContext';\nimport results from '../../results';\nimport usericon from \"../../images/icons/UserIcon.svg\";\nimport msgicon from \"../../images/icons/MessageIcon.svg\";\nimport agreeicon from \"../../images/icons/AgreementIcon.svg\";\nimport logouticon from \"../../images/icons/LogoutIcon.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserDropdown = props => {\n  _s();\n\n  const uid = props.uid;\n  const {\n    logout,\n    setisagency,\n    userDetails\n  } = useAuth();\n  const [user, setUser] = useState({});\n  const history = useHistory(); // useEffect(() => {\n  //     Promise.all([getUserAgency(), getUserEstablishment()])\n  //         .then(function (results) {\n  //             const sa = results[0]\n  //             const est = results[1]\n  //             if (sa.data !== null) {\n  //                 const user = sa.data\n  //                 setUser(user)\n  //             } else {\n  //                 const user = est.data\n  //                 setUser(user)\n  //             }\n  //         })\n  // }, [])\n  // function getUserAgency() {\n  //     return results.get('/users/serviceagency/' + uid + '.json')\n  // }\n  // function getUserEstablishment() {\n  //     return results.get('/users/establishment/' + uid + '.json')\n  // }\n\n  function handleLogout() {\n    setisagency(false);\n    logout();\n    history.push('/');\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Dropdown, {\n      children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n        variant: \"light\",\n        children: [userDetails && userDetails.companyName, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n        align: \"end\",\n        children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          as: Link,\n          to: \"account\",\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            className: \"menu-icon\",\n            src: usericon,\n            alt: \"users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), \"Manage Account\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          as: Link,\n          to: \"messages\",\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            className: \"menu-icon\",\n            src: msgicon,\n            alt: \"msgs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), \"Messages\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          as: Link,\n          to: \"agreements\",\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            className: \"menu-icon\",\n            src: agreeicon,\n            alt: \"agreements\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), \"View Agreements\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown.Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          onClick: () => handleLogout(),\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            className: \"menu-icon\",\n            src: logouticon,\n            alt: \"logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), \"Logout\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserDropdown, \"GppBfyZFja+7PvDaFj3ixEFkPvQ=\", false, function () {\n  return [useAuth, useHistory];\n});\n\n_c = UserDropdown;\nexport default UserDropdown;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserDropdown\");","map":{"version":3,"sources":["C:/Users/De Rama/Desktop/weconnect/src/components/navbar/UserDropdown.js"],"names":["React","useState","useEffect","useHistory","Dropdown","Image","Link","useAuth","results","UserDropdown","props","uid","logout","setisagency","userDetails","user","setUser","history","handleLogout","push","companyName","usericon","msgicon","agreeicon","logouticon"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport { Dropdown, Image } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuth } from '../../AuthContext'\r\nimport results from '../../results'\r\n\r\nimport usericon from '../../images/icons/UserIcon.svg'\r\nimport msgicon from '../../images/icons/MessageIcon.svg'\r\nimport agreeicon from '../../images/icons/AgreementIcon.svg'\r\nimport logouticon from '../../images/icons/LogoutIcon.svg'\r\n\r\nconst UserDropdown = (props) => {\r\n\r\n    const uid = props.uid\r\n    const { logout, setisagency, userDetails } = useAuth()\r\n    const [user, setUser] = useState({})\r\n    const history = useHistory()\r\n\r\n    // useEffect(() => {\r\n    //     Promise.all([getUserAgency(), getUserEstablishment()])\r\n    //         .then(function (results) {\r\n\r\n    //             const sa = results[0]\r\n    //             const est = results[1]\r\n    //             if (sa.data !== null) {\r\n    //                 const user = sa.data\r\n    //                 setUser(user)\r\n    //             } else {\r\n    //                 const user = est.data\r\n    //                 setUser(user)\r\n    //             }\r\n    //         })\r\n    // }, [])\r\n\r\n    // function getUserAgency() {\r\n    //     return results.get('/users/serviceagency/' + uid + '.json')\r\n    // }\r\n\r\n    // function getUserEstablishment() {\r\n    //     return results.get('/users/establishment/' + uid + '.json')\r\n    // }\r\n\r\n    function handleLogout() {\r\n        setisagency(false)\r\n        logout()\r\n        history.push('/')\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Dropdown >\r\n                <Dropdown.Toggle variant='light'>{userDetails && userDetails.companyName} </Dropdown.Toggle>\r\n                <Dropdown.Menu align='end'>\r\n                    <Dropdown.Item as={Link} to='account'>\r\n                        <Image className='menu-icon' src={usericon} alt='users' />\r\n                        Manage Account\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item as={Link} to='messages' >\r\n                        <Image className='menu-icon' src={msgicon} alt='msgs' />\r\n                        Messages \r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item as={Link} to='agreements' >\r\n                        <Image className='menu-icon' src={agreeicon} alt='agreements' />\r\n                        View Agreements\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Divider />\r\n                    <Dropdown.Item onClick={() => handleLogout()}>\r\n                        <Image className='menu-icon' src={logouticon} alt='logout' />\r\n                        Logout\r\n                    </Dropdown.Item>\r\n                </Dropdown.Menu>\r\n            </Dropdown>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserDropdown\r\n"]},"metadata":{},"sourceType":"module"}